"use strict";export function exit(t="exit"){throw new Error(t)}export function errorAlert(t="alert"){const n=`Error: ${t}`;return window.setTimeout(()=>window.alert(n),0),n}export function errorLog(t="log"){const n=`Error: ${t}`;return n}export function isMobileDevice(){if("orientation"in window)return!0;if("ontouchstart"in window)return!0;if("ontouchend"in window)return!0;if(window.matchMedia("(pointer: coarse)").matches)return!0;if(navigator.maxTouchPoints>0)return!0;const t=/ipod|ipad|iphone|android|mobile/i;return!!navigator.userAgent.match(t)}export function registerEventListener(t,n,r){document.querySelectorAll(n).forEach(n=>{t.split(" ").forEach(t=>{n.addEventListener(t,t=>{r(t)})})})}export function dedent(t){const n=t.split("\n"),r=/^(\s+)?$/,e=n.find(t=>!r.test(t)),o=/^\s+/,a=e.match(o),c=null!=a?a[0].length:0,i=`^\\s{${c}}`;return n.map(t=>t.replace(new RegExp(i),"")).join("\n").trim()}export function deepFreeze(t){return Object.values(t).forEach(t=>{null!==t&&"object"==typeof t&&(t instanceof Element||Object.isFrozen(t)||deepFreeze(t))}),Object.freeze(t)}export function createEnum(t){return Object.fromEntries(Object.entries(t).map(([t,n])=>[String(n),Number(t)]))}export function createArray2D(t,n,r=0){return[...Array(t)].map(t=>Array(n).fill(r))}export function randomInt(t){return Math.trunc(Math.random()*t)}export function randomIntRange(t,n){if(!(t>n))return t=Math.ceil(t),n=Math.floor(n)+1,randomInt(n-t)+t}export function randomIntRanges(t){const n=t.map(([t,n])=>{if(!(t>n))return t=Math.ceil(t),n=Math.floor(n)+1,randomInt(n-t)+t}),r=Math.trunc(Math.random()*n.length);return n[r]}export function randomIntPdf(t){const n=t.length,r=new Array(n+1).fill(0);for(let e=0;e<n;e++){if(t[e]<0)return;r[e+1]=r[e]+t[e]}const e=r.at(-1),o=Math.random()*e;return r.bisect_left(o)}export function intToAlp(t){if(!(0<=t&&t<26))return;const n="a".charCodeAt(),r=String.fromCharCode(t+n);return r}export function alpToInt(t){if(1!==t.length)return;const n="a".charCodeAt(),r=t.charCodeAt()-n;return 0<=r&&r<26?r:void 0}export function ordinal(t){t=Math.abs(t);const n=t%100,r=t%10;return 10<=n&&n<=20?"th":1===r?"st":2===r?"nd":3===r?"rd":"th"}export function gcd(...t){function n(t,r){return[t,r]=[Math.abs(t),Math.abs(r)],0==r?t:n(r,t%r)}return t.reduce((t,r)=>n(t,r),0)}export function lcm(...t){function n(t,n){return t*n==0?0:Math.abs(t*n)/gcd(t,n)}return t.reduce((t,r)=>n(t,r),1)}export function isInRange(t,n,r){return n<=t&&t<r}export function isBetween(t,n,r){return n<=t&&t<=r}export function clamp(t,n,r){return Math.min(Math.max(t,n),r)}export function roundDigit(t,n){const r=Math.pow(10,Math.trunc(n));return Math.round(t/r)*r}export function range(t,n,r=1){const e=Math.trunc((n-t+r-Math.sign(r))/r);return[...Array(e)].map((n,e)=>e*r+t)}export function rangeInt(t){return[...Array(t).keys()]}export function rangeIntAll(t,n){const r=n-t>=0?1:-1,e=t,o=n+r;return range(e,o,r)}export function range2Int(t,n){return[...Array(t*n)].map((t,r)=>{const e=Math.trunc(r/n),o=r%n;return[e,o]})}export function range2IntAll(t,n,r,e){const o=n-t>=0?1:-1,a=t,c=n+o,i=(c-a)*o,u=e-r>=0?1:-1,f=r,p=e+u,s=(p-f)*u;return[...Array(i*s)].map((n,e)=>{const a=Math.trunc(o*e/s)+t,c=u*e%s+r;return[a,c]})}export function forRange(t,n,r,e){const o=Math.trunc((n-t+r-Math.sign(r))/r);[...Array(o)].forEach((n,o)=>{e(o*r+t)})}export function forRangeInt(t,n){[...Array(t)].forEach((t,r)=>{n(r)})}export function forRangeIntAll(t,n,r){const e=n-t>=0?1:-1,o=t,a=n+e;forRange(o,a,e,r)}export function forRange2Int(t,n,r){[...Array(t*n)].map((t,e)=>{const o=Math.trunc(e/n),a=e%n;r(o,a)})}export function forRange2IntAll(t,n,r,e,o){const a=n-t>=0?1:-1,c=t,i=n+a,u=(i-c)*a,f=e-r>=0?1:-1,p=r,s=e+f,h=(s-p)*f;[...Array(u*h)].map((n,e)=>{const c=Math.trunc(a*e/h)+t,i=f*e%h+r;o(c,i)})}export async function trampoline(t,...n){let r=await t(...n);for(;"function"==typeof r;)r=r();return r}